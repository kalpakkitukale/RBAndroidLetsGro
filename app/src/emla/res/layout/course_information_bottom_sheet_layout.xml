<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <data>

        <variable
            name="dataViewModel"
            type="com.ramanbyte.emla.view_model.CoursesViewModel" />

        <variable
            name="dataList"
            type="com.ramanbyte.emla.models.CourseSyllabusModel" />

        <variable
            name="courseModel"
            type="com.ramanbyte.emla.models.CoursesModel" />

        <import type="com.ramanbyte.utilities.StaticHelpersKt" />
    </data>

    <androidx.constraintlayout.widget.ConstraintLayout
        android:id="@+id/layoutMainContainer"
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <androidx.appcompat.widget.AppCompatTextView
            android:id="@+id/lableFilter"
            style="@style/TextViewMediumNavyBlueOnLightNWhiteOnDark"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_marginStart="@dimen/dp_15"
            android:gravity="center"
            android:text="@string/course_information"
            android:textSize="@dimen/sp_14"
            app:layout_constraintBottom_toBottomOf="@+id/ivCloseFilter"
            app:layout_constraintEnd_toStartOf="@+id/ivCloseFilter"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <androidx.appcompat.widget.AppCompatImageView
            android:id="@+id/ivCloseFilter"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:onClick="@{dataViewModel::onCloseClickBottomSheet}"
            android:padding="@dimen/dp_10"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            app:srcCompat="@drawable/ic_close_black" />

        <View
            android:id="@+id/viewFilter"
            android:layout_width="match_parent"
            android:layout_height="1dp"
            android:background="@color/colorDivider"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/ivCloseFilter" />

        <RelativeLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:visibility="@{dataViewModel.viewVisibilityLiveData}"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/viewFilter">

            <androidx.core.widget.NestedScrollView
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:fitsSystemWindows="true">

                <androidx.constraintlayout.widget.ConstraintLayout
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:layout_margin="@dimen/dp_10">

                    <androidx.appcompat.widget.AppCompatTextView
                        android:id="@+id/tvSubjectName"
                        style="@style/TextViewTitle"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_marginStart="@dimen/dp_5"
                        android:layout_marginEnd="@dimen/dp_5"
                        android:text="@{courseModel.courseName}"
                        app:layout_constraintEnd_toEndOf="parent"
                        app:layout_constraintStart_toStartOf="parent"
                        app:layout_constraintTop_toTopOf="parent" />

                    <androidx.appcompat.widget.AppCompatTextView
                        android:id="@+id/tvSubjectCode"
                        style="@style/TextViewSubTitle"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="@dimen/dp_5"
                        android:text='@{"( "+courseModel.courseCode +" )"}'
                        app:layout_constraintEnd_toEndOf="@id/tvSubjectName"
                        app:layout_constraintStart_toStartOf="@id/tvSubjectName"
                        app:layout_constraintTop_toBottomOf="@id/tvSubjectName" />

                    <androidx.appcompat.widget.AppCompatTextView
                        android:id="@+id/lblLength"
                        style="@style/TextViewLabel"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="@dimen/dp_10"
                        android:text="@string/length"
                        app:layout_constraintEnd_toStartOf="@id/lblefforts"
                        app:layout_constraintStart_toStartOf="@id/tvSubjectName"
                        app:layout_constraintTop_toBottomOf="@id/tvSubjectCode" />

                    <androidx.appcompat.widget.AppCompatTextView
                        android:id="@+id/tvLength"
                        style="@style/TextViewValueOfLabel"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:text="@{dataList.length}"
                        app:layout_constraintEnd_toEndOf="@id/lblLength"
                        app:layout_constraintStart_toStartOf="@id/lblLength"
                        app:layout_constraintTop_toBottomOf="@id/lblLength" />


                    <androidx.appcompat.widget.AppCompatTextView
                        android:id="@+id/lblefforts"
                        style="@style/TextViewLabel"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="@dimen/dp_10"
                        android:text="@string/efforts"
                        app:layout_constraintEnd_toStartOf="@id/lblcredits"
                        app:layout_constraintStart_toEndOf="@id/lblLength"
                        app:layout_constraintTop_toBottomOf="@id/tvSubjectCode" />

                    <androidx.appcompat.widget.AppCompatTextView
                        android:id="@+id/tvefforts"
                        style="@style/TextViewValueOfLabel"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:text="@{dataList.efforts}"
                        app:layout_constraintEnd_toEndOf="@id/lblefforts"
                        app:layout_constraintStart_toStartOf="@id/lblefforts"
                        app:layout_constraintTop_toBottomOf="@id/lblefforts" />


                    <androidx.appcompat.widget.AppCompatTextView
                        android:id="@+id/lblcredits"
                        style="@style/TextViewLabel"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="@dimen/dp_10"
                        android:text="@string/credits"
                        app:layout_constraintEnd_toEndOf="@id/tvSubjectName"
                        app:layout_constraintStart_toEndOf="@id/lblefforts"
                        app:layout_constraintTop_toBottomOf="@id/tvSubjectCode" />

                    <androidx.appcompat.widget.AppCompatTextView
                        android:id="@+id/tvcredits"
                        style="@style/TextViewValueOfLabel"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:text="@{StaticHelpersKt.skipTrailingZeroes(dataList.credits)}"
                        app:layout_constraintEnd_toEndOf="@id/lblcredits"
                        app:layout_constraintStart_toStartOf="@id/lblcredits"
                        app:layout_constraintTop_toBottomOf="@id/lblcredits" />

                    <androidx.appcompat.widget.AppCompatTextView
                        android:id="@+id/lblLevel"
                        style="@style/TextViewLabel"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="@dimen/dp_10"
                        android:text="@string/level"
                        app:layout_constraintEnd_toEndOf="@id/tvLength"
                        app:layout_constraintStart_toStartOf="@id/tvLength"
                        app:layout_constraintTop_toBottomOf="@id/tvcredits" />

                    <androidx.appcompat.widget.AppCompatTextView
                        android:id="@+id/tvLevel"
                        style="@style/TextViewValueOfLabel"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:text="@{dataList.level}"
                        app:layout_constraintEnd_toEndOf="@id/lblLevel"
                        app:layout_constraintStart_toStartOf="@id/lblLevel"
                        app:layout_constraintTop_toBottomOf="@id/lblLevel" />

                    <androidx.appcompat.widget.AppCompatTextView
                        android:id="@+id/lblSpecialazaion"
                        style="@style/TextViewLabel"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:text="@string/specialization"
                        app:layout_constraintEnd_toEndOf="@id/lblefforts"
                        app:layout_constraintStart_toStartOf="@id/lblefforts"
                        app:layout_constraintTop_toTopOf="@id/lblLevel" />

                    <androidx.appcompat.widget.AppCompatTextView
                        android:id="@+id/tvSpecialazaion"
                        style="@style/TextViewValueOfLabel"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:text="@{dataList.specialization}"
                        app:layout_constraintEnd_toEndOf="@id/lblSpecialazaion"
                        app:layout_constraintStart_toStartOf="@id/lblSpecialazaion"
                        app:layout_constraintTop_toBottomOf="@id/lblSpecialazaion" />

                    <androidx.appcompat.widget.AppCompatTextView
                        android:id="@+id/lblLanguage"
                        style="@style/TextViewLabel"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:text="@string/language"
                        app:layout_constraintEnd_toEndOf="@id/lblcredits"
                        app:layout_constraintStart_toStartOf="@id/lblcredits"
                        app:layout_constraintTop_toTopOf="@id/lblSpecialazaion" />

                    <androidx.appcompat.widget.AppCompatTextView
                        android:id="@+id/tvLanguage"
                        style="@style/TextViewValueOfLabel"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:text="@{dataList.language}"
                        app:layout_constraintEnd_toEndOf="@id/lblcredits"
                        app:layout_constraintStart_toStartOf="@id/lblcredits"
                        app:layout_constraintTop_toBottomOf="@id/lblLanguage" />


                    <androidx.appcompat.widget.AppCompatTextView
                        android:id="@+id/lblAllocatedFaculty"
                        style="@style/TextViewLabel"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="@dimen/dp_10"
                        android:text="@string/allocated_faculty"
                        app:layout_constraintEnd_toEndOf="@id/lblcredits"
                        app:layout_constraintStart_toStartOf="@id/lblLevel"
                        app:layout_constraintTop_toBottomOf="@id/barrierLevel" />

                    <androidx.appcompat.widget.AppCompatTextView
                        android:id="@+id/tvAllocatedFaculty"
                        style="@style/TextViewValueOfLabel"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:text="@{dataList.allocatedFacultys}"
                        app:layout_constraintEnd_toEndOf="@id/lblAllocatedFaculty"
                        app:layout_constraintStart_toStartOf="@id/lblAllocatedFaculty"
                        app:layout_constraintTop_toBottomOf="@id/lblAllocatedFaculty" />

                    <androidx.constraintlayout.widget.Barrier
                        android:id="@+id/barrierLevel"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        app:barrierDirection="bottom"
                        app:constraint_referenced_ids="tvSpecialazaion,tvLevel,tvLanguage" />

                    <View
                        android:id="@+id/barrierView"
                        style="@style/baseDivider"
                        android:layout_width="match_parent"
                        android:layout_height="1dp"
                        app:layout_constraintEnd_toEndOf="parent"
                        app:layout_constraintStart_toStartOf="parent"
                        app:layout_constraintTop_toBottomOf="@id/tvAllocatedFaculty" />

                    <androidx.appcompat.widget.AppCompatTextView
                        android:id="@+id/lblCourseSyllabus"
                        style="@style/TextViewTitle"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="@dimen/dp_10"
                        android:text="@string/course_syllabus"
                        app:layout_constraintEnd_toEndOf="@id/tvSubjectName"
                        app:layout_constraintStart_toStartOf="@id/tvSubjectName"
                        app:layout_constraintTop_toBottomOf="@id/barrierView" />

                    <com.ramanbyte.emla.view.CustomWebView
                        android:id="@+id/wvCourseSyllabus"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_margin="@dimen/dp_8"
                        android:fillViewport="true"
                        android:focusable="true"
                        android:isScrollContainer="false"
                        android:maxHeight="@dimen/dp_150"
                        android:visibility="visible"
                        app:layout_behavior="@string/appbar_scrolling_view_behavior"
                        app:layout_constraintEnd_toEndOf="@+id/lblCourseSyllabus"
                        app:layout_constraintStart_toStartOf="@+id/lblCourseSyllabus"
                        app:layout_constraintTop_toBottomOf="@+id/lblCourseSyllabus"
                        app:layout_scrollFlags="scroll|exitUntilCollapsed"
                        app:setHtmlText="@{dataList.chapterHTML}" />

                    <View
                        android:id="@+id/wvCourseSyllabusView"
                        style="@style/baseDivider"
                        android:layout_width="match_parent"
                        android:layout_height="1dp"
                        android:layout_marginTop="@dimen/dp_5"
                        app:layout_constraintEnd_toEndOf="parent"
                        app:layout_constraintStart_toStartOf="parent"
                        app:layout_constraintTop_toBottomOf="@id/wvCourseSyllabus" />

                    <androidx.appcompat.widget.AppCompatTextView
                        android:id="@+id/lblAssessmentInstraction"
                        style="@style/TextViewTitle"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="@dimen/dp_10"
                        android:text="@string/assessment_instruction"
                        app:layout_constraintEnd_toEndOf="@id/tvSubjectName"
                        app:layout_constraintStart_toStartOf="@id/tvSubjectName"
                        app:layout_constraintTop_toBottomOf="@id/wvCourseSyllabusView" />

                    <com.ramanbyte.emla.view.CustomWebView
                        android:id="@+id/wvAssessmentInstruction"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_margin="@dimen/dp_8"
                        android:maxHeight="@dimen/dp_150"
                        android:visibility="visible"
                        app:layout_constraintEnd_toEndOf="parent"
                        app:layout_constraintStart_toStartOf="parent"
                        app:layout_constraintTop_toBottomOf="@+id/lblAssessmentInstraction"
                        app:setHtmlText="@{dataList.instructionAssessment}" />

                    <View
                        android:id="@+id/wvAssessmentInstructionView"
                        style="@style/baseDivider"
                        android:layout_width="match_parent"
                        android:layout_height="1dp"
                        android:layout_marginTop="@dimen/dp_5"
                        app:layout_constraintEnd_toEndOf="parent"
                        app:layout_constraintStart_toStartOf="parent"
                        app:layout_constraintTop_toBottomOf="@id/wvAssessmentInstruction" />

                    <androidx.appcompat.widget.AppCompatTextView
                        android:id="@+id/lblwhatLearn"
                        style="@style/TextViewTitle"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="@dimen/dp_10"
                        android:text="@string/what_i_ll_learn"
                        app:layout_constraintEnd_toEndOf="@id/tvSubjectName"
                        app:layout_constraintStart_toStartOf="@id/tvSubjectName"
                        app:layout_constraintTop_toBottomOf="@id/wvAssessmentInstructionView" />

                    <com.ramanbyte.emla.view.CustomWebView
                        android:id="@+id/wvWhatIWillLearn"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_margin="@dimen/dp_8"
                        android:maxHeight="@dimen/dp_150"
                        android:visibility="visible"
                        app:layout_constraintEnd_toEndOf="parent"
                        app:layout_constraintStart_toStartOf="parent"
                        app:layout_constraintTop_toBottomOf="@+id/lblwhatLearn"
                        app:setHtmlText="@{dataList.whtILern}" />

                    <View
                        android:id="@+id/wvWhatIWillLearnView"
                        style="@style/baseDivider"
                        android:layout_width="match_parent"
                        android:layout_height="1dp"
                        android:layout_marginTop="@dimen/dp_5"
                        app:layout_constraintEnd_toEndOf="parent"
                        app:layout_constraintStart_toStartOf="parent"
                        app:layout_constraintTop_toBottomOf="@id/wvWhatIWillLearn" />

                    <androidx.appcompat.widget.AppCompatTextView
                        android:id="@+id/lblhowToUse"
                        style="@style/TextViewTitle"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="@dimen/dp_10"
                        android:text="@string/how_to_use"
                        app:layout_constraintEnd_toEndOf="@id/tvSubjectName"
                        app:layout_constraintStart_toStartOf="@id/tvSubjectName"
                        app:layout_constraintTop_toBottomOf="@id/wvWhatIWillLearnView" />

                    <com.ramanbyte.emla.view.CustomWebView
                        android:id="@+id/webViewHowToUse"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="@dimen/dp_8"
                        android:layout_marginBottom="@dimen/dp_50"
                        android:fillViewport="true"
                        android:isScrollContainer="true"
                        android:maxHeight="@dimen/dp_150"
                        android:visibility="visible"
                        app:layout_constraintBottom_toBottomOf="parent"
                        app:layout_constraintEnd_toEndOf="@id/wvWhatIWillLearn"
                        app:layout_constraintHorizontal_bias="0.0"
                        app:layout_constraintStart_toStartOf="@id/wvWhatIWillLearn"
                        app:layout_constraintTop_toBottomOf="@+id/lblhowToUse"
                        app:setHtmlText="@{dataList.hwToUse}" />
                </androidx.constraintlayout.widget.ConstraintLayout>
            </androidx.core.widget.NestedScrollView>
        </RelativeLayout>
    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>
